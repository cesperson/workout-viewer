<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/core-icon-button/core-icon-button.html">
<link rel="import" href="../post-service/post-service.html">
<link rel="import" href="../components/paper-button/paper-button.html">
<link rel="import" href="../components/paper-slider/paper-slider.html">
<link rel="import" href="../components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../components/paper-icon-button/paper-icon-button.html">

<polymer-element name="set-menu">
    <template>
        <style>
            :host {
                display: block;
                position: relative;
                background-color: white;
                padding: 20px;
                width: 96%;
                padding: 2%;
                margin-bottom: 1rem;
                font-size: 1rem;
                font-weight: 300;
            }
            paper-input {
                width: 2em;
            }
            paper-button[raisedButton].colored {
                background: #4285f4;
                color: #fff;
                font-size: .8rem;
                float: right;
            }
            paper-slider#weight {
                width: 50%;
            }
            paper-slider#reps {
                width: 50%;
            }
            paper-slider {
                height: 28px;
            }
            paper-toggle-button {
                height: 19px;
            }
            #work-button {
                float: right;
            }
            #work-button::shadow #icon {
                height: 22px;
                margin: 3px;
            }
            /*work-button::shadow {*/
                /*height: 20px;*/
                /*width: 20px;*/
            /*}*/
        </style>

        <!-- SET MENU -->

        <post-service id="service" posts="{{posts}}"></post-service>
        <div>
            <!--<paper-input label="{{ weight }}" validate="^[0-9]{1,3}$" class="" value="{{ weight }}"></paper-input>-->

            <paper-slider id="weight" pin="" snaps="" max="300" step="2.5" value="{{ weight }}"></paper-slider>

            <paper-slider id="reps" pin="" snaps="" max="10" step="1" value="{{ reps }}"></paper-slider>


            <paper-button raisedbutton="" class="colored" label="{{ label }}" role="button" tabindex="0" aria-label="colored" on-tap="{{ tapSubmit }}"></paper-button>

            <paper-icon-button fill="" istoggle="" icon="work" role="button" tabindex="0" class="core-selected" on-tap="{{ toggleActive }}" id="work-button"></paper-icon-button>
        </div>

    </template>
    <script>
        Polymer('set-menu', {
            publish: {
                favorite: {
                    value: false,
                    reflect: true
                },
                reps: 5,
                weight: 100,
                active: false,
                warmwork: "warmup",
                label: "Add Warmup Set"
            },
            toggleActive: function () {
                this.active = !this.active;
                this.warmwork = (this.active) ? 'working' : 'warmup';
                this.label = (this.active) ? "Add Work Set" : "Add Warmup Set"
            },
            tapSubmit: function() {
                this.fire('tap-submit', {
                    "weight": this.weight,
                    "reps": this.reps,
                    "warmwork": this.warmwork
                });
            },
            favoriteTapped: function(event, detail, sender) {
                this.favorite = !this.favorite;
                this.fire('favorite-tap');
            }
        });
    </script>
</polymer-element>
