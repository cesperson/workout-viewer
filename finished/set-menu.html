<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/core-icon-button/core-icon-button.html">
<link rel="import" href="../post-service/post-service.html">
<link rel="import" href="../components/paper-button/paper-button.html">
<link rel="import" href="../components/paper-slider/paper-slider.html">

<polymer-element name="set-menu">
    <template>
        <style>
            :host {
                display: block;
                position: relative;
                background-color: white;
                padding: 20px;
                width: 96%;
                padding: 2%;
                margin-bottom: 1rem;
                font-size: 1rem;
                font-weight: 300;
            }
            paper-input {
                width: 2em;
            }
            paper-button[raisedButton].colored {
                background: #4285f4;
                color: #fff;
                font-size: .8rem;
            }
            paper-slider {
                height: 28px;
            }
        </style>

        <!-- SET MENU -->

        <post-service id="service" posts="{{posts}}"></post-service>
        <div>
            <paper-input label="{{ weight }}" validate="^[0-9]{1,3}$" class="" value="{{ weight }}"></paper-input>

            <paper-slider id="ratings" pin="" snaps="" max="10" step="1" value="{{ reps }}"></paper-slider>

            <paper-button raisedbutton="" class="colored" label="add" role="button" tabindex="0" aria-label="colored" on-tap="{{ tapSubmit }}"></paper-button>
        </div>

    </template>
    <script>
        Polymer('set-menu', {
            publish: {
                favorite: {
                    value: false,
                    reflect: true
                },
                reps: 5,
                weight: 100
            },
            tapSubmit: function() {
//                var slider = document.querySelectorAll('paper-slider')[0];

                this.fire('tap-submit', {
                    "type": "squat",
                    "weight": this.weight,
                    "reps": this.reps,
                    "warmwork": "working"
                });
            },
            favoriteTapped: function(event, detail, sender) {
                this.favorite = !this.favorite;
                this.fire('favorite-tap');
            }
        });
    </script>
</polymer-element>
